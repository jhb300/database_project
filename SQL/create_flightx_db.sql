--
-- PostgreSQL database dump
--

-- Dumped from database version 15.1
-- Dumped by pg_dump version 15.1

-- Started on 2023-03-19 19:35:54

SET statement_timeout = 0;
SET lock_timeout = 0;
SET idle_in_transaction_session_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;
SELECT pg_catalog.set_config('search_path', '', false);
SET check_function_bodies = false;
SET xmloption = content;
SET client_min_messages = warning;
SET row_security = off;

--
-- TOC entry 248 (class 1255 OID 66328)
-- Name: cancel_flight(character varying); Type: PROCEDURE; Schema: public; Owner: postgres
--

CREATE PROCEDURE public.cancel_flight(IN flight_number character varying)
    LANGUAGE plpgsql
    AS $$
BEGIN
  -- Update bookings
  UPDATE airlinex_booking SET canceled = true WHERE flight_id = flight_number;
  -- Remove crew assignments for the flight
  DELETE FROM airlinex_assignment WHERE flight_id = flight_number;
END;$$;


ALTER PROCEDURE public.cancel_flight(IN flight_number character varying) OWNER TO postgres;

--
-- TOC entry 249 (class 1255 OID 66322)
-- Name: cancel_flight_trigger_function(); Type: FUNCTION; Schema: public; Owner: postgres
--

CREATE FUNCTION public.cancel_flight_trigger_function() RETURNS trigger
    LANGUAGE plpgsql
    AS $$
BEGIN
  IF NEW.canceled THEN
    CALL cancel_flight(NEW.number);
  END IF;
  RETURN NULL;
END;
$$;


ALTER FUNCTION public.cancel_flight_trigger_function() OWNER TO postgres;

SET default_tablespace = '';

SET default_table_access_method = heap;

--
-- TOC entry 233 (class 1259 OID 66201)
-- Name: airlinex_aircraft; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.airlinex_aircraft (
    registration character varying(10) NOT NULL,
    type_series character varying(10) NOT NULL,
    passenger_capacity integer NOT NULL
);


ALTER TABLE public.airlinex_aircraft OWNER TO postgres;

--
-- TOC entry 235 (class 1259 OID 66207)
-- Name: airlinex_assignment; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.airlinex_assignment (
    id bigint NOT NULL,
    employee_id bigint NOT NULL,
    flight_id character varying(10) NOT NULL
);


ALTER TABLE public.airlinex_assignment OWNER TO postgres;

--
-- TOC entry 234 (class 1259 OID 66206)
-- Name: airlinex_assignment_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.airlinex_assignment ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.airlinex_assignment_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 242 (class 1259 OID 66233)
-- Name: airlinex_booking; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.airlinex_booking (
    id bigint NOT NULL,
    "time" timestamp with time zone NOT NULL,
    cancelled boolean NOT NULL,
    flight_id character varying(10) NOT NULL,
    passenger_id bigint NOT NULL
);


ALTER TABLE public.airlinex_booking OWNER TO postgres;

--
-- TOC entry 241 (class 1259 OID 66232)
-- Name: airlinex_booking_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.airlinex_booking ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.airlinex_booking_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 237 (class 1259 OID 66213)
-- Name: airlinex_employee; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.airlinex_employee (
    id bigint NOT NULL,
    first_name character varying(100) NOT NULL,
    last_name character varying(100) NOT NULL,
    email character varying(254) NOT NULL,
    role character varying(2) NOT NULL,
    based_in_id character varying(4),
    spouse_id bigint
);


ALTER TABLE public.airlinex_employee OWNER TO postgres;

--
-- TOC entry 236 (class 1259 OID 66212)
-- Name: airlinex_employee_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.airlinex_employee ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.airlinex_employee_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 240 (class 1259 OID 66226)
-- Name: airlinex_flight; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.airlinex_flight (
    number character varying(10) NOT NULL,
    departure_time timestamp with time zone NOT NULL,
    arrival_time timestamp with time zone NOT NULL,
    delay integer NOT NULL,
    cancelled boolean NOT NULL,
    aircraft_id character varying(10) NOT NULL,
    departure_airport_id character varying(4) NOT NULL,
    destination_airport_id character varying(4) NOT NULL,
    CONSTRAINT airlinex_flight_delay_check CHECK ((delay >= 0))
);


ALTER TABLE public.airlinex_flight OWNER TO postgres;

--
-- TOC entry 239 (class 1259 OID 66219)
-- Name: airlinex_passenger; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.airlinex_passenger (
    id bigint NOT NULL,
    first_name character varying(100) NOT NULL,
    last_name character varying(100) NOT NULL,
    status character varying(20) NOT NULL,
    notes text NOT NULL
);


ALTER TABLE public.airlinex_passenger OWNER TO postgres;

--
-- TOC entry 238 (class 1259 OID 66218)
-- Name: airlinex_passenger_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.airlinex_passenger ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.airlinex_passenger_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 232 (class 1259 OID 66193)
-- Name: airportx_airport; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.airportx_airport (
    icao_code character varying(4) NOT NULL,
    name character varying(100) NOT NULL
);


ALTER TABLE public.airportx_airport OWNER TO postgres;

--
-- TOC entry 245 (class 1259 OID 90367)
-- Name: airport_stats; Type: VIEW; Schema: public; Owner: postgres
--

CREATE VIEW public.airport_stats AS
 SELECT a.icao_code,
    avg(f.delay) AS avg_delay,
    count(DISTINCT f.number) AS num_flights,
    sum((COALESCE(bd.num_departing_passengers, (0)::bigint) + COALESCE(ba.num_arriving_passengers, (0)::bigint))) AS num_passengers
   FROM (((public.airportx_airport a
     LEFT JOIN public.airlinex_flight f ON ((((a.icao_code)::text = (f.departure_airport_id)::text) OR ((a.icao_code)::text = (f.destination_airport_id)::text))))
     LEFT JOIN ( SELECT airlinex_booking.flight_id,
            count(*) AS num_departing_passengers
           FROM public.airlinex_booking
          WHERE (airlinex_booking.cancelled = false)
          GROUP BY airlinex_booking.flight_id) bd ON ((((f.number)::text = (bd.flight_id)::text) AND ((f.departure_airport_id)::text = (a.icao_code)::text))))
     LEFT JOIN ( SELECT airlinex_booking.flight_id,
            count(*) AS num_arriving_passengers
           FROM public.airlinex_booking
          WHERE (airlinex_booking.cancelled = false)
          GROUP BY airlinex_booking.flight_id) ba ON ((((f.number)::text = (ba.flight_id)::text) AND ((f.destination_airport_id)::text = (a.icao_code)::text))))
  WHERE (f.cancelled = false)
  GROUP BY a.icao_code, a.name;


ALTER TABLE public.airport_stats OWNER TO postgres;

--
-- TOC entry 247 (class 1259 OID 90379)
-- Name: airportx_runway; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.airportx_runway (
    id bigint NOT NULL,
    length integer NOT NULL,
    name character varying(4) NOT NULL,
    airport_id character varying(4) NOT NULL
);


ALTER TABLE public.airportx_runway OWNER TO postgres;

--
-- TOC entry 246 (class 1259 OID 90378)
-- Name: airportx_runway_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.airportx_runway ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.airportx_runway_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 221 (class 1259 OID 66087)
-- Name: auth_group; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.auth_group (
    id integer NOT NULL,
    name character varying(150) NOT NULL
);


ALTER TABLE public.auth_group OWNER TO postgres;

--
-- TOC entry 220 (class 1259 OID 66086)
-- Name: auth_group_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.auth_group ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.auth_group_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 223 (class 1259 OID 66095)
-- Name: auth_group_permissions; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.auth_group_permissions (
    id bigint NOT NULL,
    group_id integer NOT NULL,
    permission_id integer NOT NULL
);


ALTER TABLE public.auth_group_permissions OWNER TO postgres;

--
-- TOC entry 222 (class 1259 OID 66094)
-- Name: auth_group_permissions_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.auth_group_permissions ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.auth_group_permissions_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 219 (class 1259 OID 66081)
-- Name: auth_permission; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.auth_permission (
    id integer NOT NULL,
    name character varying(255) NOT NULL,
    content_type_id integer NOT NULL,
    codename character varying(100) NOT NULL
);


ALTER TABLE public.auth_permission OWNER TO postgres;

--
-- TOC entry 218 (class 1259 OID 66080)
-- Name: auth_permission_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.auth_permission ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.auth_permission_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 225 (class 1259 OID 66101)
-- Name: auth_user; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.auth_user (
    id integer NOT NULL,
    password character varying(128) NOT NULL,
    last_login timestamp with time zone,
    is_superuser boolean NOT NULL,
    username character varying(150) NOT NULL,
    first_name character varying(150) NOT NULL,
    last_name character varying(150) NOT NULL,
    email character varying(254) NOT NULL,
    is_staff boolean NOT NULL,
    is_active boolean NOT NULL,
    date_joined timestamp with time zone NOT NULL
);


ALTER TABLE public.auth_user OWNER TO postgres;

--
-- TOC entry 227 (class 1259 OID 66109)
-- Name: auth_user_groups; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.auth_user_groups (
    id bigint NOT NULL,
    user_id integer NOT NULL,
    group_id integer NOT NULL
);


ALTER TABLE public.auth_user_groups OWNER TO postgres;

--
-- TOC entry 226 (class 1259 OID 66108)
-- Name: auth_user_groups_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.auth_user_groups ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.auth_user_groups_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 224 (class 1259 OID 66100)
-- Name: auth_user_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.auth_user ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.auth_user_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 229 (class 1259 OID 66115)
-- Name: auth_user_user_permissions; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.auth_user_user_permissions (
    id bigint NOT NULL,
    user_id integer NOT NULL,
    permission_id integer NOT NULL
);


ALTER TABLE public.auth_user_user_permissions OWNER TO postgres;

--
-- TOC entry 228 (class 1259 OID 66114)
-- Name: auth_user_user_permissions_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.auth_user_user_permissions ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.auth_user_user_permissions_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 231 (class 1259 OID 66173)
-- Name: django_admin_log; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.django_admin_log (
    id integer NOT NULL,
    action_time timestamp with time zone NOT NULL,
    object_id text,
    object_repr character varying(200) NOT NULL,
    action_flag smallint NOT NULL,
    change_message text NOT NULL,
    content_type_id integer,
    user_id integer NOT NULL,
    CONSTRAINT django_admin_log_action_flag_check CHECK ((action_flag >= 0))
);


ALTER TABLE public.django_admin_log OWNER TO postgres;

--
-- TOC entry 230 (class 1259 OID 66172)
-- Name: django_admin_log_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.django_admin_log ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.django_admin_log_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 217 (class 1259 OID 66073)
-- Name: django_content_type; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.django_content_type (
    id integer NOT NULL,
    app_label character varying(100) NOT NULL,
    model character varying(100) NOT NULL
);


ALTER TABLE public.django_content_type OWNER TO postgres;

--
-- TOC entry 216 (class 1259 OID 66072)
-- Name: django_content_type_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.django_content_type ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.django_content_type_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 215 (class 1259 OID 66065)
-- Name: django_migrations; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.django_migrations (
    id bigint NOT NULL,
    app character varying(255) NOT NULL,
    name character varying(255) NOT NULL,
    applied timestamp with time zone NOT NULL
);


ALTER TABLE public.django_migrations OWNER TO postgres;

--
-- TOC entry 214 (class 1259 OID 66064)
-- Name: django_migrations_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.django_migrations ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.django_migrations_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 243 (class 1259 OID 66304)
-- Name: django_session; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.django_session (
    session_key character varying(40) NOT NULL,
    session_data text NOT NULL,
    expire_date timestamp with time zone NOT NULL
);


ALTER TABLE public.django_session OWNER TO postgres;

--
-- TOC entry 3541 (class 0 OID 66201)
-- Dependencies: 233
-- Data for Name: airlinex_aircraft; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.airlinex_aircraft (registration, type_series, passenger_capacity) FROM stdin;
D-ABYA	B748	364
D-AIXP	A359	293
\.


--
-- TOC entry 3543 (class 0 OID 66207)
-- Dependencies: 235
-- Data for Name: airlinex_assignment; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.airlinex_assignment (id, employee_id, flight_id) FROM stdin;
1	1	LH480
2	2	LH480
3	3	LH470
4	4	LH480
5	3	LH480
6	1	LH470
7	2	LH470
8	4	LH470
10	1	LH100
\.


--
-- TOC entry 3550 (class 0 OID 66233)
-- Dependencies: 242
-- Data for Name: airlinex_booking; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.airlinex_booking (id, "time", cancelled, flight_id, passenger_id) FROM stdin;
1	2023-02-19 15:22:41.408284+01	f	LH470	1
2	2023-02-19 15:22:47.910238+01	f	LH480	1
4	2023-02-19 15:23:01.765973+01	f	LH470	2
5	2023-02-19 15:23:07.689948+01	f	LH480	2
3	2023-02-19 15:22:55.240668+01	t	LH440	1
6	2023-02-19 15:23:13.392197+01	t	LH440	2
7	2023-02-19 16:52:48.224295+01	f	LH100	2
9	2023-02-19 20:24:46.077841+01	f	LH100	1
\.


--
-- TOC entry 3545 (class 0 OID 66213)
-- Dependencies: 237
-- Data for Name: airlinex_employee; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.airlinex_employee (id, first_name, last_name, email, role, based_in_id, spouse_id) FROM stdin;
1	Jürgen	Raps	raps@lufthansa.com	C	EDDF	\N
2	Joong Gi	Joost	joost@lufthansa.com	FO	EDDM	\N
4	Tobias	Reuter	treuter@lufthansa.com	CC	EDDM	3
3	Janine	Neumann	neumann@lufthansa.com	CC	EDDF	4
\.


--
-- TOC entry 3548 (class 0 OID 66226)
-- Dependencies: 240
-- Data for Name: airlinex_flight; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.airlinex_flight (number, departure_time, arrival_time, delay, cancelled, aircraft_id, departure_airport_id, destination_airport_id) FROM stdin;
LH470	2023-02-19 09:10:00+01	2023-02-19 17:40:00+01	5	f	D-AIXP	EDDM	KJFK
LH480	2023-02-20 11:12:00+01	2023-02-20 20:10:00+01	0	f	D-ABYA	EDDF	KJFK
LH440	2023-02-21 11:15:00+01	2023-02-21 20:20:00+01	80	t	D-AIXP	KJFK	EDDM
LH100	2023-02-26 13:02:00+01	2023-12-19 13:04:00+01	20	f	D-AIXP	EDDM	KJFK
\.


--
-- TOC entry 3547 (class 0 OID 66219)
-- Dependencies: 239
-- Data for Name: airlinex_passenger; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.airlinex_passenger (id, first_name, last_name, status, notes) FROM stdin;
1	James	Bond	P	Likes his drinks stirred, not shaken.
2	Rainer	Zufall	S	Preferes to choose his meals randomly.
\.


--
-- TOC entry 3540 (class 0 OID 66193)
-- Dependencies: 232
-- Data for Name: airportx_airport; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.airportx_airport (icao_code, name) FROM stdin;
KJFK	John F. Kennedy International Airport
EDDF	Frankfurt Airport
EDDA	Stuttgart
EDDM	Munich Airport
\.


--
-- TOC entry 3554 (class 0 OID 90379)
-- Dependencies: 247
-- Data for Name: airportx_runway; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.airportx_runway (id, length, name, airport_id) FROM stdin;
2	3343	07L	EDDF
3	3343	07C	EDDF
4	4231	18	EDDF
5	2560	04R	KJFK
6	3682	04L	KJFK
7	2560	22L	KJFK
8	3682	22R	KJFK
9	4231	36	EDDF
10	3343	25L	EDDF
11	3343	25R	EDDF
\.


--
-- TOC entry 3529 (class 0 OID 66087)
-- Dependencies: 221
-- Data for Name: auth_group; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.auth_group (id, name) FROM stdin;
\.


--
-- TOC entry 3531 (class 0 OID 66095)
-- Dependencies: 223
-- Data for Name: auth_group_permissions; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.auth_group_permissions (id, group_id, permission_id) FROM stdin;
\.


--
-- TOC entry 3527 (class 0 OID 66081)
-- Dependencies: 219
-- Data for Name: auth_permission; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.auth_permission (id, name, content_type_id, codename) FROM stdin;
1	Can add airport employees	1	add_airportemployees
2	Can change airport employees	1	change_airportemployees
3	Can delete airport employees	1	delete_airportemployees
4	Can view airport employees	1	view_airportemployees
5	Can add airport	2	add_airport
6	Can change airport	2	change_airport
7	Can delete airport	2	delete_airport
8	Can view airport	2	view_airport
9	Can add aircraft	3	add_aircraft
10	Can change aircraft	3	change_aircraft
11	Can delete aircraft	3	delete_aircraft
12	Can view aircraft	3	view_aircraft
13	Can add assignment	4	add_assignment
14	Can change assignment	4	change_assignment
15	Can delete assignment	4	delete_assignment
16	Can view assignment	4	view_assignment
17	Can add employee	5	add_employee
18	Can change employee	5	change_employee
19	Can delete employee	5	delete_employee
20	Can view employee	5	view_employee
21	Can add passenger	6	add_passenger
22	Can change passenger	6	change_passenger
23	Can delete passenger	6	delete_passenger
24	Can view passenger	6	view_passenger
25	Can add flight	7	add_flight
26	Can change flight	7	change_flight
27	Can delete flight	7	delete_flight
28	Can view flight	7	view_flight
29	Can add booking	8	add_booking
30	Can change booking	8	change_booking
31	Can delete booking	8	delete_booking
32	Can view booking	8	view_booking
33	Can add log entry	9	add_logentry
34	Can change log entry	9	change_logentry
35	Can delete log entry	9	delete_logentry
36	Can view log entry	9	view_logentry
37	Can add permission	10	add_permission
38	Can change permission	10	change_permission
39	Can delete permission	10	delete_permission
40	Can view permission	10	view_permission
41	Can add group	11	add_group
42	Can change group	11	change_group
43	Can delete group	11	delete_group
44	Can view group	11	view_group
45	Can add user	12	add_user
46	Can change user	12	change_user
47	Can delete user	12	delete_user
48	Can view user	12	view_user
49	Can add content type	13	add_contenttype
50	Can change content type	13	change_contenttype
51	Can delete content type	13	delete_contenttype
52	Can view content type	13	view_contenttype
53	Can add session	14	add_session
54	Can change session	14	change_session
55	Can delete session	14	delete_session
56	Can view session	14	view_session
57	Can add airport stats	15	add_airportstats
58	Can change airport stats	15	change_airportstats
59	Can delete airport stats	15	delete_airportstats
60	Can view airport stats	15	view_airportstats
61	Can add runway	16	add_runway
62	Can change runway	16	change_runway
63	Can delete runway	16	delete_runway
64	Can view runway	16	view_runway
\.


--
-- TOC entry 3533 (class 0 OID 66101)
-- Dependencies: 225
-- Data for Name: auth_user; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.auth_user (id, password, last_login, is_superuser, username, first_name, last_name, email, is_staff, is_active, date_joined) FROM stdin;
1	pbkdf2_sha256$390000$21qgxjV8uRw3fGWSQwztFd$5qjglP+x8p6OpiM8t6JXFLxPL9cpGSwHVTZA7/hSJBs=	2023-03-18 11:24:26.061789+01	t	flightx_superuser				t	t	2023-02-19 15:12:22.192995+01
\.


--
-- TOC entry 3535 (class 0 OID 66109)
-- Dependencies: 227
-- Data for Name: auth_user_groups; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.auth_user_groups (id, user_id, group_id) FROM stdin;
\.


--
-- TOC entry 3537 (class 0 OID 66115)
-- Dependencies: 229
-- Data for Name: auth_user_user_permissions; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.auth_user_user_permissions (id, user_id, permission_id) FROM stdin;
\.


--
-- TOC entry 3539 (class 0 OID 66173)
-- Dependencies: 231
-- Data for Name: django_admin_log; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.django_admin_log (id, action_time, object_id, object_repr, action_flag, change_message, content_type_id, user_id) FROM stdin;
1	2023-02-19 15:12:50.985525+01	EDDF	Airport object (EDDF)	1	[{"added": {}}]	2	1
2	2023-02-19 15:12:59.369352+01	EDDM	Airport object (EDDM)	1	[{"added": {}}]	2	1
3	2023-02-19 15:13:08.194624+01	KJFK	Airport object (KJFK)	1	[{"added": {}}]	2	1
4	2023-03-18 11:24:39.216135+01	aöld	Airport object (aöld)	3		2	1
5	2023-03-18 11:38:29.186285+01	EDDM	Airport object (EDDM)	2	[]	2	1
6	2023-03-18 11:38:35.213979+01	EDDÖ	Airport object (EDDÖ)	3		2	1
7	2023-03-18 11:39:04.786622+01	EDDÖ	Airport object (EDDÖ)	3		2	1
8	2023-03-19 14:06:50.895507+01	1	Jürgen Raps	2	[{"changed": {"fields": ["Spouse"]}}]	5	1
9	2023-03-19 15:14:30.437598+01	1	Jürgen Raps	2	[{"changed": {"fields": ["Spouse"]}}]	5	1
10	2023-03-19 15:39:43.578176+01	1	Jürgen Raps	2	[{"changed": {"fields": ["Spouse"]}}]	5	1
11	2023-03-19 18:53:43.273299+01	1	Jürgen Raps	2	[{"changed": {"fields": ["Spouse"]}}]	5	1
\.


--
-- TOC entry 3525 (class 0 OID 66073)
-- Dependencies: 217
-- Data for Name: django_content_type; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.django_content_type (id, app_label, model) FROM stdin;
1	airportx	airportemployees
2	airportx	airport
3	airlinex	aircraft
4	airlinex	assignment
5	airlinex	employee
6	airlinex	passenger
7	airlinex	flight
8	airlinex	booking
9	admin	logentry
10	auth	permission
11	auth	group
12	auth	user
13	contenttypes	contenttype
14	sessions	session
15	airportx	airportstats
16	airportx	runway
\.


--
-- TOC entry 3523 (class 0 OID 66065)
-- Dependencies: 215
-- Data for Name: django_migrations; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.django_migrations (id, app, name, applied) FROM stdin;
1	contenttypes	0001_initial	2023-02-19 15:06:52.993037+01
2	auth	0001_initial	2023-02-19 15:06:53.114949+01
3	admin	0001_initial	2023-02-19 15:06:53.143044+01
4	admin	0002_logentry_remove_auto_add	2023-02-19 15:06:53.152054+01
5	admin	0003_logentry_add_action_flag_choices	2023-02-19 15:06:53.161056+01
6	airportx	0001_initial	2023-02-19 15:06:53.179043+01
7	airlinex	0001_initial	2023-02-19 15:06:53.350046+01
8	contenttypes	0002_remove_content_type_name	2023-02-19 15:06:53.369042+01
9	auth	0002_alter_permission_name_max_length	2023-02-19 15:06:53.376045+01
10	auth	0003_alter_user_email_max_length	2023-02-19 15:06:53.385052+01
11	auth	0004_alter_user_username_opts	2023-02-19 15:06:53.395047+01
12	auth	0005_alter_user_last_login_null	2023-02-19 15:06:53.404058+01
13	auth	0006_require_contenttypes_0002	2023-02-19 15:06:53.40805+01
14	auth	0007_alter_validators_add_error_messages	2023-02-19 15:06:53.415043+01
15	auth	0008_alter_user_username_max_length	2023-02-19 15:06:53.430044+01
16	auth	0009_alter_user_last_name_max_length	2023-02-19 15:06:53.440048+01
17	auth	0010_alter_group_name_max_length	2023-02-19 15:06:53.452046+01
18	auth	0011_update_proxy_permissions	2023-02-19 15:06:53.465046+01
19	auth	0012_alter_user_first_name_max_length	2023-02-19 15:06:53.476045+01
20	sessions	0001_initial	2023-02-19 15:06:53.494046+01
21	airlinex	0002_rename_canceled_booking_cancelled_and_more	2023-02-19 17:03:00.366602+01
22	airlinex	0003_alter_employee_last_name_alter_passenger_last_name	2023-02-19 17:30:37.468015+01
23	airportx	0002_airportstats	2023-02-19 19:13:45.635174+01
24	airportx	0003_alter_airportstats_table	2023-02-19 19:13:45.639174+01
25	airportx	0004_airport_is_deleted	2023-03-18 15:18:24.99757+01
26	airportx	0005_remove_airport_is_deleted	2023-03-18 21:42:49.686483+01
27	airportx	0006_runway	2023-03-18 21:54:50.903593+01
28	airlinex	0004_employee_married_to	2023-03-19 12:42:18.760002+01
29	airlinex	0005_remove_employee_married_to_employee_spouse_and_more	2023-03-19 13:41:46.037594+01
\.


--
-- TOC entry 3551 (class 0 OID 66304)
-- Dependencies: 243
-- Data for Name: django_session; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.django_session (session_key, session_data, expire_date) FROM stdin;
75n0h02ra1vgw1z4z748wlbfx6xhzdox	.eJxVjEsOAiEQBe_C2pA00wi4dO8ZCHTTMmogmc_KeHdDMgvdvqp6bxXTvtW4r2WJM6uLAnX63XKiZ2kD8CO1e9fU27bMWQ9FH3TVt87ldT3cv4Oa1jrqM07iggc_WUYyYLNDYnaCQTCDIeHgkw8gCSYIjjIWC4IFxAQm9fkC3N44Gg:1pTkQY:6a9tu7_SgSZC-vQt1cDJmait14wcwpbNQYPJEEckauA	2023-03-05 15:12:30.54109+01
rxxxd93vvec03xb2w86wk5lqz1aruz3e	.eJxVjEsOAiEQBe_C2pA00wi4dO8ZCHTTMmogmc_KeHdDMgvdvqp6bxXTvtW4r2WJM6uLAnX63XKiZ2kD8CO1e9fU27bMWQ9FH3TVt87ldT3cv4Oa1jrqM07iggc_WUYyYLNDYnaCQTCDIeHgkw8gCSYIjjIWC4IFxAQm9fkC3N44Gg:1pdTje:KFNZ0orrOx4ANftUfqYIrmHvPujfIuGMCBbAuD_tD2s	2023-04-01 12:24:26.077408+02
\.


--
-- TOC entry 3560 (class 0 OID 0)
-- Dependencies: 234
-- Name: airlinex_assignment_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.airlinex_assignment_id_seq', 10, true);


--
-- TOC entry 3561 (class 0 OID 0)
-- Dependencies: 241
-- Name: airlinex_booking_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.airlinex_booking_id_seq', 9, true);


--
-- TOC entry 3562 (class 0 OID 0)
-- Dependencies: 236
-- Name: airlinex_employee_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.airlinex_employee_id_seq', 5, true);


--
-- TOC entry 3563 (class 0 OID 0)
-- Dependencies: 238
-- Name: airlinex_passenger_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.airlinex_passenger_id_seq', 2, true);


--
-- TOC entry 3564 (class 0 OID 0)
-- Dependencies: 246
-- Name: airportx_runway_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.airportx_runway_id_seq', 11, true);


--
-- TOC entry 3565 (class 0 OID 0)
-- Dependencies: 220
-- Name: auth_group_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.auth_group_id_seq', 1, false);


--
-- TOC entry 3566 (class 0 OID 0)
-- Dependencies: 222
-- Name: auth_group_permissions_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.auth_group_permissions_id_seq', 1, false);


--
-- TOC entry 3567 (class 0 OID 0)
-- Dependencies: 218
-- Name: auth_permission_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.auth_permission_id_seq', 64, true);


--
-- TOC entry 3568 (class 0 OID 0)
-- Dependencies: 226
-- Name: auth_user_groups_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.auth_user_groups_id_seq', 1, false);


--
-- TOC entry 3569 (class 0 OID 0)
-- Dependencies: 224
-- Name: auth_user_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.auth_user_id_seq', 1, true);


--
-- TOC entry 3570 (class 0 OID 0)
-- Dependencies: 228
-- Name: auth_user_user_permissions_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.auth_user_user_permissions_id_seq', 1, false);


--
-- TOC entry 3571 (class 0 OID 0)
-- Dependencies: 230
-- Name: django_admin_log_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.django_admin_log_id_seq', 11, true);


--
-- TOC entry 3572 (class 0 OID 0)
-- Dependencies: 216
-- Name: django_content_type_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.django_content_type_id_seq', 16, true);


--
-- TOC entry 3573 (class 0 OID 0)
-- Dependencies: 214
-- Name: django_migrations_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.django_migrations_id_seq', 29, true);


--
-- TOC entry 3313 (class 2606 OID 66197)
-- Name: airportx_airport airportx_airport_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.airportx_airport
    ADD CONSTRAINT airportx_airport_pkey PRIMARY KEY (icao_code);


--
-- TOC entry 244 (class 1259 OID 66314)
-- Name: airport_and_based_crew; Type: MATERIALIZED VIEW; Schema: public; Owner: postgres
--

CREATE MATERIALIZED VIEW public.airport_and_based_crew AS
 SELECT airportx_airport.icao_code,
    airportx_airport.name,
    count(airlinex_employee.based_in_id) AS num_employees
   FROM (public.airportx_airport
     LEFT JOIN public.airlinex_employee ON (((airportx_airport.icao_code)::text = (airlinex_employee.based_in_id)::text)))
  GROUP BY airportx_airport.icao_code
  WITH NO DATA;


ALTER TABLE public.airport_and_based_crew OWNER TO postgres;

--
-- TOC entry 3315 (class 2606 OID 66205)
-- Name: airlinex_aircraft airlinex_aircraft_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.airlinex_aircraft
    ADD CONSTRAINT airlinex_aircraft_pkey PRIMARY KEY (registration);


--
-- TOC entry 3321 (class 2606 OID 66211)
-- Name: airlinex_assignment airlinex_assignment_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.airlinex_assignment
    ADD CONSTRAINT airlinex_assignment_pkey PRIMARY KEY (id);


--
-- TOC entry 3347 (class 2606 OID 66237)
-- Name: airlinex_booking airlinex_booking_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.airlinex_booking
    ADD CONSTRAINT airlinex_booking_pkey PRIMARY KEY (id);


--
-- TOC entry 3327 (class 2606 OID 66217)
-- Name: airlinex_employee airlinex_employee_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.airlinex_employee
    ADD CONSTRAINT airlinex_employee_pkey PRIMARY KEY (id);


--
-- TOC entry 3329 (class 2606 OID 90505)
-- Name: airlinex_employee airlinex_employee_spouse_id_key; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.airlinex_employee
    ADD CONSTRAINT airlinex_employee_spouse_id_key UNIQUE (spouse_id);


--
-- TOC entry 3342 (class 2606 OID 66231)
-- Name: airlinex_flight airlinex_flight_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.airlinex_flight
    ADD CONSTRAINT airlinex_flight_pkey PRIMARY KEY (number);


--
-- TOC entry 3333 (class 2606 OID 66225)
-- Name: airlinex_passenger airlinex_passenger_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.airlinex_passenger
    ADD CONSTRAINT airlinex_passenger_pkey PRIMARY KEY (id);


--
-- TOC entry 3357 (class 2606 OID 90383)
-- Name: airportx_runway airportx_runway_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.airportx_runway
    ADD CONSTRAINT airportx_runway_pkey PRIMARY KEY (id);


--
-- TOC entry 3279 (class 2606 OID 66302)
-- Name: auth_group auth_group_name_key; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.auth_group
    ADD CONSTRAINT auth_group_name_key UNIQUE (name);


--
-- TOC entry 3284 (class 2606 OID 66130)
-- Name: auth_group_permissions auth_group_permissions_group_id_permission_id_0cd325b0_uniq; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.auth_group_permissions
    ADD CONSTRAINT auth_group_permissions_group_id_permission_id_0cd325b0_uniq UNIQUE (group_id, permission_id);


--
-- TOC entry 3287 (class 2606 OID 66099)
-- Name: auth_group_permissions auth_group_permissions_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.auth_group_permissions
    ADD CONSTRAINT auth_group_permissions_pkey PRIMARY KEY (id);


--
-- TOC entry 3281 (class 2606 OID 66091)
-- Name: auth_group auth_group_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.auth_group
    ADD CONSTRAINT auth_group_pkey PRIMARY KEY (id);


--
-- TOC entry 3274 (class 2606 OID 66121)
-- Name: auth_permission auth_permission_content_type_id_codename_01ab375a_uniq; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.auth_permission
    ADD CONSTRAINT auth_permission_content_type_id_codename_01ab375a_uniq UNIQUE (content_type_id, codename);


--
-- TOC entry 3276 (class 2606 OID 66085)
-- Name: auth_permission auth_permission_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.auth_permission
    ADD CONSTRAINT auth_permission_pkey PRIMARY KEY (id);


--
-- TOC entry 3295 (class 2606 OID 66113)
-- Name: auth_user_groups auth_user_groups_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.auth_user_groups
    ADD CONSTRAINT auth_user_groups_pkey PRIMARY KEY (id);


--
-- TOC entry 3298 (class 2606 OID 66145)
-- Name: auth_user_groups auth_user_groups_user_id_group_id_94350c0c_uniq; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.auth_user_groups
    ADD CONSTRAINT auth_user_groups_user_id_group_id_94350c0c_uniq UNIQUE (user_id, group_id);


--
-- TOC entry 3289 (class 2606 OID 66105)
-- Name: auth_user auth_user_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.auth_user
    ADD CONSTRAINT auth_user_pkey PRIMARY KEY (id);


--
-- TOC entry 3301 (class 2606 OID 66119)
-- Name: auth_user_user_permissions auth_user_user_permissions_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.auth_user_user_permissions
    ADD CONSTRAINT auth_user_user_permissions_pkey PRIMARY KEY (id);


--
-- TOC entry 3304 (class 2606 OID 66159)
-- Name: auth_user_user_permissions auth_user_user_permissions_user_id_permission_id_14a6b632_uniq; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.auth_user_user_permissions
    ADD CONSTRAINT auth_user_user_permissions_user_id_permission_id_14a6b632_uniq UNIQUE (user_id, permission_id);


--
-- TOC entry 3292 (class 2606 OID 66297)
-- Name: auth_user auth_user_username_key; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.auth_user
    ADD CONSTRAINT auth_user_username_key UNIQUE (username);


--
-- TOC entry 3307 (class 2606 OID 66180)
-- Name: django_admin_log django_admin_log_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.django_admin_log
    ADD CONSTRAINT django_admin_log_pkey PRIMARY KEY (id);


--
-- TOC entry 3269 (class 2606 OID 66079)
-- Name: django_content_type django_content_type_app_label_model_76bd3d3b_uniq; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.django_content_type
    ADD CONSTRAINT django_content_type_app_label_model_76bd3d3b_uniq UNIQUE (app_label, model);


--
-- TOC entry 3271 (class 2606 OID 66077)
-- Name: django_content_type django_content_type_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.django_content_type
    ADD CONSTRAINT django_content_type_pkey PRIMARY KEY (id);


--
-- TOC entry 3267 (class 2606 OID 66071)
-- Name: django_migrations django_migrations_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.django_migrations
    ADD CONSTRAINT django_migrations_pkey PRIMARY KEY (id);


--
-- TOC entry 3352 (class 2606 OID 66310)
-- Name: django_session django_session_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.django_session
    ADD CONSTRAINT django_session_pkey PRIMARY KEY (session_key);


--
-- TOC entry 3349 (class 2606 OID 66249)
-- Name: airlinex_booking flight_passenger_unique; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.airlinex_booking
    ADD CONSTRAINT flight_passenger_unique UNIQUE (flight_id, passenger_id);


--
-- TOC entry 3316 (class 1259 OID 66250)
-- Name: airlinex_aircraft_registration_e1d865b7_like; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX airlinex_aircraft_registration_e1d865b7_like ON public.airlinex_aircraft USING btree (registration varchar_pattern_ops);


--
-- TOC entry 3317 (class 1259 OID 66293)
-- Name: airlinex_assignment_employee_id_1b62b316; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX airlinex_assignment_employee_id_1b62b316 ON public.airlinex_assignment USING btree (employee_id);


--
-- TOC entry 3318 (class 1259 OID 66294)
-- Name: airlinex_assignment_flight_id_1d95d3bb; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX airlinex_assignment_flight_id_1d95d3bb ON public.airlinex_assignment USING btree (flight_id);


--
-- TOC entry 3319 (class 1259 OID 66295)
-- Name: airlinex_assignment_flight_id_1d95d3bb_like; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX airlinex_assignment_flight_id_1d95d3bb_like ON public.airlinex_assignment USING btree (flight_id varchar_pattern_ops);


--
-- TOC entry 3343 (class 1259 OID 66290)
-- Name: airlinex_booking_flight_id_084d83f2; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX airlinex_booking_flight_id_084d83f2 ON public.airlinex_booking USING btree (flight_id);


--
-- TOC entry 3344 (class 1259 OID 66291)
-- Name: airlinex_booking_flight_id_084d83f2_like; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX airlinex_booking_flight_id_084d83f2_like ON public.airlinex_booking USING btree (flight_id varchar_pattern_ops);


--
-- TOC entry 3345 (class 1259 OID 66292)
-- Name: airlinex_booking_passenger_id_da0d1fa1; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX airlinex_booking_passenger_id_da0d1fa1 ON public.airlinex_booking USING btree (passenger_id);


--
-- TOC entry 3322 (class 1259 OID 66256)
-- Name: airlinex_employee_based_in_id_3cb1b962; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX airlinex_employee_based_in_id_3cb1b962 ON public.airlinex_employee USING btree (based_in_id);


--
-- TOC entry 3323 (class 1259 OID 66257)
-- Name: airlinex_employee_based_in_id_3cb1b962_like; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX airlinex_employee_based_in_id_3cb1b962_like ON public.airlinex_employee USING btree (based_in_id varchar_pattern_ops);


--
-- TOC entry 3324 (class 1259 OID 66335)
-- Name: airlinex_employee_last_name_d771ddd0; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX airlinex_employee_last_name_d771ddd0 ON public.airlinex_employee USING btree (last_name);


--
-- TOC entry 3325 (class 1259 OID 66336)
-- Name: airlinex_employee_last_name_d771ddd0_like; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX airlinex_employee_last_name_d771ddd0_like ON public.airlinex_employee USING btree (last_name varchar_pattern_ops);


--
-- TOC entry 3334 (class 1259 OID 66274)
-- Name: airlinex_flight_aircraft_id_d51880de; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX airlinex_flight_aircraft_id_d51880de ON public.airlinex_flight USING btree (aircraft_id);


--
-- TOC entry 3335 (class 1259 OID 66275)
-- Name: airlinex_flight_aircraft_id_d51880de_like; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX airlinex_flight_aircraft_id_d51880de_like ON public.airlinex_flight USING btree (aircraft_id varchar_pattern_ops);


--
-- TOC entry 3336 (class 1259 OID 66276)
-- Name: airlinex_flight_departure_airport_id_f4ea3b0d; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX airlinex_flight_departure_airport_id_f4ea3b0d ON public.airlinex_flight USING btree (departure_airport_id);


--
-- TOC entry 3337 (class 1259 OID 66277)
-- Name: airlinex_flight_departure_airport_id_f4ea3b0d_like; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX airlinex_flight_departure_airport_id_f4ea3b0d_like ON public.airlinex_flight USING btree (departure_airport_id varchar_pattern_ops);


--
-- TOC entry 3338 (class 1259 OID 66278)
-- Name: airlinex_flight_destination_airport_id_85ec5ad1; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX airlinex_flight_destination_airport_id_85ec5ad1 ON public.airlinex_flight USING btree (destination_airport_id);


--
-- TOC entry 3339 (class 1259 OID 66279)
-- Name: airlinex_flight_destination_airport_id_85ec5ad1_like; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX airlinex_flight_destination_airport_id_85ec5ad1_like ON public.airlinex_flight USING btree (destination_airport_id varchar_pattern_ops);


--
-- TOC entry 3340 (class 1259 OID 66273)
-- Name: airlinex_flight_number_7f01238e_like; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX airlinex_flight_number_7f01238e_like ON public.airlinex_flight USING btree (number varchar_pattern_ops);


--
-- TOC entry 3330 (class 1259 OID 66337)
-- Name: airlinex_passenger_last_name_75af25a0; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX airlinex_passenger_last_name_75af25a0 ON public.airlinex_passenger USING btree (last_name);


--
-- TOC entry 3331 (class 1259 OID 66338)
-- Name: airlinex_passenger_last_name_75af25a0_like; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX airlinex_passenger_last_name_75af25a0_like ON public.airlinex_passenger USING btree (last_name varchar_pattern_ops);


--
-- TOC entry 3309 (class 1259 OID 66198)
-- Name: airportx_airport_icao_code_6ea576a0_like; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX airportx_airport_icao_code_6ea576a0_like ON public.airportx_airport USING btree (icao_code varchar_pattern_ops);


--
-- TOC entry 3310 (class 1259 OID 66199)
-- Name: airportx_airport_name_ade6ba46; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX airportx_airport_name_ade6ba46 ON public.airportx_airport USING btree (name);


--
-- TOC entry 3311 (class 1259 OID 66200)
-- Name: airportx_airport_name_ade6ba46_like; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX airportx_airport_name_ade6ba46_like ON public.airportx_airport USING btree (name varchar_pattern_ops);


--
-- TOC entry 3354 (class 1259 OID 90389)
-- Name: airportx_runway_airport_id_b23484e2; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX airportx_runway_airport_id_b23484e2 ON public.airportx_runway USING btree (airport_id);


--
-- TOC entry 3355 (class 1259 OID 90390)
-- Name: airportx_runway_airport_id_b23484e2_like; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX airportx_runway_airport_id_b23484e2_like ON public.airportx_runway USING btree (airport_id varchar_pattern_ops);


--
-- TOC entry 3277 (class 1259 OID 66303)
-- Name: auth_group_name_a6ea08ec_like; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX auth_group_name_a6ea08ec_like ON public.auth_group USING btree (name varchar_pattern_ops);


--
-- TOC entry 3282 (class 1259 OID 66141)
-- Name: auth_group_permissions_group_id_b120cbf9; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX auth_group_permissions_group_id_b120cbf9 ON public.auth_group_permissions USING btree (group_id);


--
-- TOC entry 3285 (class 1259 OID 66142)
-- Name: auth_group_permissions_permission_id_84c5c92e; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX auth_group_permissions_permission_id_84c5c92e ON public.auth_group_permissions USING btree (permission_id);


--
-- TOC entry 3272 (class 1259 OID 66127)
-- Name: auth_permission_content_type_id_2f476e4b; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX auth_permission_content_type_id_2f476e4b ON public.auth_permission USING btree (content_type_id);


--
-- TOC entry 3293 (class 1259 OID 66157)
-- Name: auth_user_groups_group_id_97559544; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX auth_user_groups_group_id_97559544 ON public.auth_user_groups USING btree (group_id);


--
-- TOC entry 3296 (class 1259 OID 66156)
-- Name: auth_user_groups_user_id_6a12ed8b; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX auth_user_groups_user_id_6a12ed8b ON public.auth_user_groups USING btree (user_id);


--
-- TOC entry 3299 (class 1259 OID 66171)
-- Name: auth_user_user_permissions_permission_id_1fbb5f2c; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX auth_user_user_permissions_permission_id_1fbb5f2c ON public.auth_user_user_permissions USING btree (permission_id);


--
-- TOC entry 3302 (class 1259 OID 66170)
-- Name: auth_user_user_permissions_user_id_a95ead1b; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX auth_user_user_permissions_user_id_a95ead1b ON public.auth_user_user_permissions USING btree (user_id);


--
-- TOC entry 3290 (class 1259 OID 66298)
-- Name: auth_user_username_6821ab7c_like; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX auth_user_username_6821ab7c_like ON public.auth_user USING btree (username varchar_pattern_ops);


--
-- TOC entry 3305 (class 1259 OID 66191)
-- Name: django_admin_log_content_type_id_c4bce8eb; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX django_admin_log_content_type_id_c4bce8eb ON public.django_admin_log USING btree (content_type_id);


--
-- TOC entry 3308 (class 1259 OID 66192)
-- Name: django_admin_log_user_id_c564eba6; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX django_admin_log_user_id_c564eba6 ON public.django_admin_log USING btree (user_id);


--
-- TOC entry 3350 (class 1259 OID 66312)
-- Name: django_session_expire_date_a5c62663; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX django_session_expire_date_a5c62663 ON public.django_session USING btree (expire_date);


--
-- TOC entry 3353 (class 1259 OID 66311)
-- Name: django_session_session_key_c0390e0f_like; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX django_session_session_key_c0390e0f_like ON public.django_session USING btree (session_key varchar_pattern_ops);


--
-- TOC entry 3377 (class 2620 OID 66329)
-- Name: airlinex_flight cancel_flight_trigger; Type: TRIGGER; Schema: public; Owner: postgres
--

CREATE TRIGGER cancel_flight_trigger AFTER UPDATE ON public.airlinex_flight FOR EACH ROW EXECUTE FUNCTION public.cancel_flight_trigger_function();


--
-- TOC entry 3367 (class 2606 OID 66238)
-- Name: airlinex_assignment airlinex_assignment_employee_id_1b62b316_fk_airlinex_; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.airlinex_assignment
    ADD CONSTRAINT airlinex_assignment_employee_id_1b62b316_fk_airlinex_ FOREIGN KEY (employee_id) REFERENCES public.airlinex_employee(id) DEFERRABLE INITIALLY DEFERRED;


--
-- TOC entry 3368 (class 2606 OID 66243)
-- Name: airlinex_assignment airlinex_assignment_flight_id_1d95d3bb_fk_airlinex_; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.airlinex_assignment
    ADD CONSTRAINT airlinex_assignment_flight_id_1d95d3bb_fk_airlinex_ FOREIGN KEY (flight_id) REFERENCES public.airlinex_flight(number) DEFERRABLE INITIALLY DEFERRED;


--
-- TOC entry 3374 (class 2606 OID 66280)
-- Name: airlinex_booking airlinex_booking_flight_id_084d83f2_fk_airlinex_flight_number; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.airlinex_booking
    ADD CONSTRAINT airlinex_booking_flight_id_084d83f2_fk_airlinex_flight_number FOREIGN KEY (flight_id) REFERENCES public.airlinex_flight(number) DEFERRABLE INITIALLY DEFERRED;


--
-- TOC entry 3375 (class 2606 OID 66285)
-- Name: airlinex_booking airlinex_booking_passenger_id_da0d1fa1_fk_airlinex_passenger_id; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.airlinex_booking
    ADD CONSTRAINT airlinex_booking_passenger_id_da0d1fa1_fk_airlinex_passenger_id FOREIGN KEY (passenger_id) REFERENCES public.airlinex_passenger(id) DEFERRABLE INITIALLY DEFERRED;


--
-- TOC entry 3369 (class 2606 OID 66330)
-- Name: airlinex_employee airlinex_employee_based_in_id_3cb1b962_fk_airportx_; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.airlinex_employee
    ADD CONSTRAINT airlinex_employee_based_in_id_3cb1b962_fk_airportx_ FOREIGN KEY (based_in_id) REFERENCES public.airportx_airport(icao_code) DEFERRABLE INITIALLY DEFERRED;


--
-- TOC entry 3370 (class 2606 OID 90506)
-- Name: airlinex_employee airlinex_employee_spouse_id_858f6049_fk_airlinex_employee_id; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.airlinex_employee
    ADD CONSTRAINT airlinex_employee_spouse_id_858f6049_fk_airlinex_employee_id FOREIGN KEY (spouse_id) REFERENCES public.airlinex_employee(id) DEFERRABLE INITIALLY DEFERRED;


--
-- TOC entry 3371 (class 2606 OID 66258)
-- Name: airlinex_flight airlinex_flight_aircraft_id_d51880de_fk_airlinex_; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.airlinex_flight
    ADD CONSTRAINT airlinex_flight_aircraft_id_d51880de_fk_airlinex_ FOREIGN KEY (aircraft_id) REFERENCES public.airlinex_aircraft(registration) DEFERRABLE INITIALLY DEFERRED;


--
-- TOC entry 3372 (class 2606 OID 66263)
-- Name: airlinex_flight airlinex_flight_departure_airport_id_f4ea3b0d_fk_airportx_; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.airlinex_flight
    ADD CONSTRAINT airlinex_flight_departure_airport_id_f4ea3b0d_fk_airportx_ FOREIGN KEY (departure_airport_id) REFERENCES public.airportx_airport(icao_code) DEFERRABLE INITIALLY DEFERRED;


--
-- TOC entry 3373 (class 2606 OID 66268)
-- Name: airlinex_flight airlinex_flight_destination_airport__85ec5ad1_fk_airportx_; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.airlinex_flight
    ADD CONSTRAINT airlinex_flight_destination_airport__85ec5ad1_fk_airportx_ FOREIGN KEY (destination_airport_id) REFERENCES public.airportx_airport(icao_code) DEFERRABLE INITIALLY DEFERRED;


--
-- TOC entry 3376 (class 2606 OID 90384)
-- Name: airportx_runway airportx_runway_airport_id_b23484e2_fk_airportx_; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.airportx_runway
    ADD CONSTRAINT airportx_runway_airport_id_b23484e2_fk_airportx_ FOREIGN KEY (airport_id) REFERENCES public.airportx_airport(icao_code) DEFERRABLE INITIALLY DEFERRED;


--
-- TOC entry 3359 (class 2606 OID 66136)
-- Name: auth_group_permissions auth_group_permissio_permission_id_84c5c92e_fk_auth_perm; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.auth_group_permissions
    ADD CONSTRAINT auth_group_permissio_permission_id_84c5c92e_fk_auth_perm FOREIGN KEY (permission_id) REFERENCES public.auth_permission(id) DEFERRABLE INITIALLY DEFERRED;


--
-- TOC entry 3360 (class 2606 OID 66131)
-- Name: auth_group_permissions auth_group_permissions_group_id_b120cbf9_fk_auth_group_id; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.auth_group_permissions
    ADD CONSTRAINT auth_group_permissions_group_id_b120cbf9_fk_auth_group_id FOREIGN KEY (group_id) REFERENCES public.auth_group(id) DEFERRABLE INITIALLY DEFERRED;


--
-- TOC entry 3358 (class 2606 OID 66122)
-- Name: auth_permission auth_permission_content_type_id_2f476e4b_fk_django_co; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.auth_permission
    ADD CONSTRAINT auth_permission_content_type_id_2f476e4b_fk_django_co FOREIGN KEY (content_type_id) REFERENCES public.django_content_type(id) DEFERRABLE INITIALLY DEFERRED;


--
-- TOC entry 3361 (class 2606 OID 66151)
-- Name: auth_user_groups auth_user_groups_group_id_97559544_fk_auth_group_id; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.auth_user_groups
    ADD CONSTRAINT auth_user_groups_group_id_97559544_fk_auth_group_id FOREIGN KEY (group_id) REFERENCES public.auth_group(id) DEFERRABLE INITIALLY DEFERRED;


--
-- TOC entry 3362 (class 2606 OID 66146)
-- Name: auth_user_groups auth_user_groups_user_id_6a12ed8b_fk_auth_user_id; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.auth_user_groups
    ADD CONSTRAINT auth_user_groups_user_id_6a12ed8b_fk_auth_user_id FOREIGN KEY (user_id) REFERENCES public.auth_user(id) DEFERRABLE INITIALLY DEFERRED;


--
-- TOC entry 3363 (class 2606 OID 66165)
-- Name: auth_user_user_permissions auth_user_user_permi_permission_id_1fbb5f2c_fk_auth_perm; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.auth_user_user_permissions
    ADD CONSTRAINT auth_user_user_permi_permission_id_1fbb5f2c_fk_auth_perm FOREIGN KEY (permission_id) REFERENCES public.auth_permission(id) DEFERRABLE INITIALLY DEFERRED;


--
-- TOC entry 3364 (class 2606 OID 66160)
-- Name: auth_user_user_permissions auth_user_user_permissions_user_id_a95ead1b_fk_auth_user_id; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.auth_user_user_permissions
    ADD CONSTRAINT auth_user_user_permissions_user_id_a95ead1b_fk_auth_user_id FOREIGN KEY (user_id) REFERENCES public.auth_user(id) DEFERRABLE INITIALLY DEFERRED;


--
-- TOC entry 3365 (class 2606 OID 66181)
-- Name: django_admin_log django_admin_log_content_type_id_c4bce8eb_fk_django_co; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.django_admin_log
    ADD CONSTRAINT django_admin_log_content_type_id_c4bce8eb_fk_django_co FOREIGN KEY (content_type_id) REFERENCES public.django_content_type(id) DEFERRABLE INITIALLY DEFERRED;


--
-- TOC entry 3366 (class 2606 OID 66186)
-- Name: django_admin_log django_admin_log_user_id_c564eba6_fk_auth_user_id; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.django_admin_log
    ADD CONSTRAINT django_admin_log_user_id_c564eba6_fk_auth_user_id FOREIGN KEY (user_id) REFERENCES public.auth_user(id) DEFERRABLE INITIALLY DEFERRED;


--
-- TOC entry 3552 (class 0 OID 66314)
-- Dependencies: 244 3556
-- Name: airport_and_based_crew; Type: MATERIALIZED VIEW DATA; Schema: public; Owner: postgres
--

REFRESH MATERIALIZED VIEW public.airport_and_based_crew;


-- Completed on 2023-03-19 19:35:54

--
-- PostgreSQL database dump complete
--

